!function(t){function n(a){if(e[a])return e[a].exports;var o=e[a]={i:a,l:!1,exports:{}};return t[a].call(o.exports,o,o.exports,n),o.l=!0,o.exports}var e={};n.m=t,n.c=e,n.i=function(t){return t},n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:a})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="/dist/",n(n.s=2)}([function(t,n,e){"use strict";function a(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(t,n){for(var e=0;e<n.length;e++){var a=n[e];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(n,e,a){return e&&t(n.prototype,e),a&&t(n,a),n}}(),r=function(){function t(){a(this,t),this.value=[],this.action="push"}return o(t,[{key:"push",value:function(t){this.value.push(t),this.action="push"}},{key:"pushSingle",value:function(t){for(var n=-1,e=0;e<this.value.length;e++)if(this.value[e]===t){n=e;break}n>=0&&this.value.splice(n,this.value.length-n),this.value.push(t),this.action="pushSingle"}},{key:"pop",value:function(){return this.action="pop",this.value.pop()}},{key:"size",value:function(){return this.value.length}},{key:"isForward",value:function(t){var n=this.value.lastIndexOf(t);return!(n>-1&&n===this.value.length-2)}}]),t}(),i=new r;n.a=i},function(t,n,e){"use strict";function a(t){if(Array.isArray(t))for(var n=0;n<t.length;n++){var e=t[n];if(o(e)&&o(e.componentOptions))return e}}function o(t){return void 0!==t&&null!==t}function r(t){return t&&(t.Ctor.options.name||t.tag)}var i=e(0);n.a={name:"stack",abstract:!0,created:function(){this.cache=Object.create(null),this.stack=[]},destroyed:function(){var t=!0,n=!1,e=void 0;try{for(var a,o=this.stack[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){a.value.$destroy()}}catch(t){n=!0,e=t}finally{try{!t&&o.return&&o.return()}finally{if(n)throw e}}},render:function(){var t=this,n=a(this.$slots.default),e=n&&n.componentOptions;if(e){var o=r(e),s=n.data;if((s.hook||(s.hook={})).create=function(n,e){t.stack.push(e.componentInstance)},i.a.size()<this.stack.length)if("pop"===i.a.action){for(var c=this.stack.length-1;c>=0;c--)if(r(this.stack[c].$vnode.componentOptions)===o){n.componentInstance=this.stack[c];for(var u=this.stack.length-1;u>c;u--)this.stack[u].$destroy();this.stack.splice(c,this.stack.length-c);break}}else if("pushSingle"===i.a.action)for(var l=this.stack.length-1;l>=0;l--)if(r(this.stack[l].$vnode.componentOptions)===o){for(var f=this.stack.length-1;f>l-1;f--)this.stack[f].$destroy();this.stack.splice(l,this.stack.length-l);break}n.data.keepAlive=!0}return n}}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=e(1),o=e(0);n.default={install:function(t,n){var e=n.router,r=n.store;if(!e)return void console.error("stack need router");r&&r.registerModule("stack",{state:{direction:"forward"},mutations:{updateDirection:function(t,n){t.direction=n}}}),e.beforeEach(function(t,n,e){var a=t.matched[0];if(a&&a.components){var i=a.components.default;"function"==typeof i?a.components.default=function(t){i(function(n){n.name=n.name||"AC-"+a.path,n._Ctor&&(n._Ctor[0].options.name=n.name),t(n)})}:i.name=i.name||"AC-"+a.path,r&&(o.a.isForward(i.name)?(r.commit("updateDirection","forward"),console.log("forward")):(r.commit("updateDirection","backward"),console.log("backward")))}e()}),e.afterEach(function(t,n){var e=t.matched[0];if(e&&e.components){var a=e.components.default;o.a.isForward(a.name)?a.stackType&&"single"===a.stackType?o.a.pushSingle(a.name):o.a.push(a.name):o.a.pop()}}),t.component("navigation",a.a)}}}]);
//# sourceMappingURL=vue-nav.js.map