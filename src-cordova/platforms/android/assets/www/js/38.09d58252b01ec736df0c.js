webpackJsonp([38],{fpiA:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("JmJv"),n=a("5q7E"),s=(a("B4Rf"),{name:"EmployeeList",data:function(){return{title:"",type:null,storeSeq:"",empList:[],empEndList:[]}},methods:{getEmpData:function(){var t=this;this.empList=[],this.getEmpList().then(function(e){return t.empList=e}).catch(function(e){return t.showAlert(e.message)}),1===this.type&&this.getEmpEndList().then(function(e){return t.empEndList=e}).catch(function(e){return t.showAlert(e.message)})},getEmpEndList:function(){return i.a.getEmpEndList(this.storeSeq)},getEmpList:function(){return 0===this.type?i.a.getWaitEmpList(this.storeSeq):i.a.getEmpList(this.storeSeq)},viewDetail:function(t){var e="EmployeeDetail";0===this.type&&(e="EmployeeModify"),console.log("emp:",t),this.pagePush({name:e,params:{id:t.EMP_SEQ},query:{storeSeq:this.storeSeq,emp:t,type:this.type,storefivetype:this.$route.query.storefivetype,PayShow:this.$route.query.PayShow,OtherpayShow:this.$route.query.OtherpayShow,isManager:this.$route.query.isManager}})},allowJoin:function(t){var e=this;this.showAlert("합류 요청을 승인하시겠습니까?",{cancel:"취소",confirm:"승인"}).then(function(a){a&&n.a.allowJoin(t.STORE_SEQ,t.EMP_SEQ).then(function(){e.getEmpData(),e.showAlert(decodeURIComponent(t.EMP_NAME)+"님의 합류를 승인하였습니다.\n                "+decodeURIComponent(t.EMP_NAME)+"님의 정보를 작성합니다.").then(function(){t.TYPE="1",e.viewDetail(t)})}).catch(function(t){return e.showAlert(t.message)})})},rejectJoin:function(t){var e=this;this.showAlert("합류 요청을 거절하시겠습니까?",{cancel:"취소",confirm:"거절"}).then(function(a){a&&n.a.rejectJoin(t.STORE_SEQ,t.EMP_SEQ).then(function(){e.getEmpData(),e.showAlert(decodeURIComponent(t.EMP_NAME)+"님의 합류를 거절하였습니다.")}).catch(function(t){return e.showAlert(t.message)})})}},created:function(){this.storeSeq=this.$route.params.id,this.type=Number(this.$route.query.type),console.log("query:",this.$route.query),this.getEmpData(),this.title=0===this.type?"합류요청":"직원",this.setHeader({visible:!0,title:this.title+"목록",useBackButton:!0})},mounted:function(){}}),o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("q-page",[t.empList.length?i("q-list",{attrs:{separator:""}},t._l(t.empList,function(e,n){return i("q-item",{key:n},[i("q-item-side",[i("div",{staticClass:"image-wrap"},[e.images.length?i("img",{attrs:{src:"http://api.shop-sol.com/uploads/"+e.images[0].IMAGE,alt:"emp_profile"}}):i("img",{attrs:{src:a("QDQH"),alt:"emp_profile"}})])]),t._v(" "),i("q-item-main",[i("div",{staticClass:"emp-wrap",on:{click:function(a){1==t.type&&t.viewDetail(e)}}},[i("strong",{staticClass:"text-blue"},[t._v(t._s(decodeURIComponent(e.EMP_NAME)))]),t._v(" "),1==e.IS_MANAGER?i("small",{staticClass:"text-darkblue"},[t._v("(매니저)")]):t._e(),t._v(" "),1==t.type?i("div",{staticClass:"period-wrap"},[i("q-icon",{attrs:{name:"event_note"}}),t._v(" "),i("small",[t._v(t._s(t._f("dateFormat")(e.START,"YYYY.MM.DD")))]),t._v(" "),i("small",[t._v("~")]),t._v(" "),null!=e.END?i("small",[t._v(t._s(t._f("dateFormat")(e.END,"YYYY.MM.DD")))]):i("small",[t._v(t._s("계속"))])],1):t._e()])]),t._v(" "),0==t.type?i("q-item-side",[i("div",{staticClass:"btn-allow-request"},[i("button",{staticClass:"btn-reject",attrs:{type:"button"},on:{click:function(a){t.rejectJoin(e)}}},[t._v("거부")]),t._v(" "),i("button",{staticClass:"btn-accept",attrs:{type:"button"},on:{click:function(a){t.allowJoin(e)}}},[t._v("승인")])])]):t._e()],1)})):i("q-list",[i("q-item",[i("q-item-main",[i("div",{attrs:{"text-center":""}},[t._v("\n          "+t._s(t.title)+"이 없습니다.\n        ")])])],1)],1),t._v(" "),t.empEndList.length?i("q-list",{attrs:{separator:""}},t._l(t.empEndList,function(e,n){return 1==t.type?i("q-item",{key:n},[i("q-item-side",[i("div",{staticClass:"image-wrap"},[e.images.length?i("img",{attrs:{src:"http://api.shop-sol.com/uploads/"+e.images[0].IMAGE,alt:"emp_profile"}}):i("img",{attrs:{src:a("QDQH"),alt:"emp_profile"}})])]),t._v(" "),i("q-item-main",[i("div",{staticClass:"emp-wrap"},[i("strong",{staticClass:"text-blue"},[t._v(t._s(decodeURIComponent(e.EMP_NAME)))]),t._v(" "),1==e.IS_MANAGER?i("small",{staticClass:"text-darkblue"},[t._v("(매니저)")]):t._e(),t._v(" "),i("div",{staticClass:"period-wrap"},[i("q-icon",{attrs:{name:"event_note"}}),t._v(" "),i("small",[t._v(t._s(t._f("dateFormat")(e.START,"YYYY.MM.DD")))]),t._v(" "),i("small",[t._v("~")]),t._v(" "),null!=e.END?i("small",[t._v(t._s(t._f("dateFormat")(e.END,"YYYY.MM.DD")))]):i("small",[t._v(t._s("계속"))])],1)])]),t._v(" "),i("q-item-side",[i("div",{staticClass:"btn-allow-request"},[t._v("\n          근무종료\n        ")])])],1):t._e()})):i("q-list",[1==t.type?i("q-item",[i("q-item-main",[i("div",{attrs:{"text-center":""}},[t._v("\n          근무종료된 직원이 없습니다.\n        ")])])],1):t._e()],1)],1)},r=[];o._withStripped=!0;var l=a("XyMi"),p=!1;var c=function(t){p||a("gLR9")},m=Object(l.a)(s,o,r,!1,c,"data-v-32a4a110",null);m.options.__file="src/pages/EmployeeList.vue";e.default=m.exports},gLR9:function(t,e,a){var i=a("wvg6");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,a("rjj0").default)("09b51d8a",i,!1,{})},wvg6:function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,"\n.q-list[data-v-32a4a110] {\n  padding: 20px 12px;\n  border-bottom: 0;\n}\n.q-list .q-item[data-v-32a4a110] {\n  padding: 17px 0 17px 2px;\n  border-color: rgba(54,170,233,0.3);\n}\n.q-list .q-item .q-item-side[data-v-32a4a110] {\n  vertical-align: middle;\n}\n.q-list .q-item[data-v-32a4a110]:first-child {\n  padding-top: 0;\n}\n.q-list .q-item[data-v-32a4a110]:last-child {\n  padding-bottom: 0;\n}\n.emp-wrap[data-v-32a4a110] {\n  line-height: 24px;\n}\n.period-wrap[data-v-32a4a110] {\n  color: #747474;\n}\n.btn-allow-request button[data-v-32a4a110] {\n  width: 50px;\n  height: 33px;\n  border: 0;\n  border-radius: 2px;\n  font-size: 0.9rem;\n  color: #fff;\n}\n.btn-allow-request button.btn-reject[data-v-32a4a110] {\n  margin-right: 5px;\n  background-color: #9db6ca;\n}\n.btn-allow-request button.btn-accept[data-v-32a4a110] {\n  background-color: #36aae9;\n}\n",""])}});